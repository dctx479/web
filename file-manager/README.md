# 🗂️ 现代化文件管理器

一个基于 PHP 和 JavaScript 的现代化 Web 文件管理器，具有美观的界面和强大的功能。

## ✨ 功能特色

### 🎯 核心功能
- **📁 文件浏览** - 支持文件夹导航和面包屑导航
- **🔍 实时搜索** - 快速过滤文件和文件夹
- **📊 文件排序** - 按名称、大小、日期排序
- **🌓 主题切换** - 支持亮色/暗色主题

### 🎬 预览功能
- **🖼️ 图片预览** - 支持 JPG, PNG, GIF, WebP 等格式
- **🎥 视频预览** - 支持 MP4, AVI, MOV, MKV 等格式
- **🎵 音频预览** - 支持 MP3, WAV, FLAC, AAC 等格式
- **📄 文档预览** - 支持 PDF 直接预览
- **💻 代码预览** - 支持 HTML, CSS, JS, PHP, Python 等代码文件
- **📝 文本预览** - 支持 TXT, MD, JSON, XML 等文本文件

### 📁 文件操作
- **⬇️ 文件下载** - 一键下载任意文件
- **✏️ 重命名** - 支持文件和文件夹重命名
- **🗑️ 删除** - 支持文件和文件夹删除（递归删除）
- **📂 新建文件夹** - 快速创建新文件夹
- **⬆️ 文件上传** - 支持点击上传和拖拽上传
- **📱 多文件上传** - 同时上传多个文件

### 🎨 界面特色
- **🌈 现代化设计** - 渐变背景、玻璃效果、圆角阴影
- **🎯 彩色图标** - 不同文件类型显示不同颜色的图标
- **📱 响应式布局** - 适配各种屏幕尺寸
- **✨ 流畅动画** - 文件项加载动画、悬停效果
- **🔔 通知系统** - 操作成功/失败的实时通知
- **⌨️ 键盘快捷键** - Ctrl+F 搜索、F5 刷新、Esc 关闭预览

## 🚀 快速开始

### 环境要求
- PHP 7.4 或更高版本
- Web 服务器（Apache/Nginx）
- 现代浏览器（Chrome, Firefox, Safari, Edge）

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd file-manager
   ```

2. **配置 Web 服务器**
   - 将项目文件放置在 Web 服务器根目录
   - 确保 `files/` 目录具有读写权限
   ```bash
   chmod 755 files/
   chmod 644 files/*
   ```

3. **访问应用**
   - 在浏览器中访问 `http://localhost/file-manager`
   - 开始使用文件管理器

### 目录结构
```
file-manager/
├── index.html          # 主页面
├── app.js             # 主要 JavaScript 逻辑
├── README.md          # 项目文档
├── api/               # PHP API 接口
│   ├── files.php      # 获取文件列表
│   ├── download.php   # 文件下载
│   ├── upload.php     # 文件上传
│   ├── rename.php     # 文件重命名
│   ├── delete.php     # 文件删除
│   └── create_folder.php # 创建文件夹
└── files/             # 文件存储目录
    ├── 学习资料/       # 示例文件夹
    ├── aa/            # 示例文件夹
    └── ...            # 其他文件
```

## 🎯 使用指南

### 基本操作

1. **浏览文件**
   - 双击文件夹进入子目录
   - 点击面包屑导航快速跳转
   - 使用返回按钮回到上级目录

2. **预览文件**
   - 双击文件进行预览
   - 点击文件图标右上角的预览按钮
   - 支持多种文件格式的在线预览

3. **文件操作**
   - **下载**：点击绿色"下载"按钮
   - **重命名**：点击黄色"重命名"按钮，输入新名称
   - **删除**：点击红色"删除"按钮，确认删除

4. **上传文件**
   - 点击"上传文件"按钮选择文件
   - 或直接拖拽文件到页面任意位置
   - 支持多文件同时上传

5. **搜索文件**
   - 在搜索框中输入关键词
   - 实时过滤显示匹配的文件
   - 使用 Ctrl+F 快速聚焦搜索框

### 键盘快捷键
- `Ctrl + F` - 聚焦搜索框
- `F5` - 刷新文件列表
- `Esc` - 关闭预览模态框

## 🎨 文件图标颜色

- 📁 **文件夹** - 蓝色
- 🖼️ **图片文件** - 翠绿色
- 🎬 **视频文件** - 玫瑰红
- 🎵 **音频文件** - 紫罗兰
- 📄 **PDF文件** - 深红色
- 📝 **Word文档** - 天蓝色
- 📊 **Excel文档** - 绿色
- 📈 **PPT文档** - 橙色
- 💻 **代码文件** - 各种颜色（JS黄色、CSS青色、PHP靛蓝等）
- 📋 **文本文件** - 灰色系
- 🗜️ **压缩包** - 琥珀色
- 🔗 **链接文件** - 蓝色

## 🔧 技术栈

### 前端
- **HTML5** - 页面结构
- **Tailwind CSS** - 样式框架
- **JavaScript ES6+** - 交互逻辑
- **Font Awesome** - 图标库

### 后端
- **PHP 7.4+** - 服务端逻辑
- **JSON API** - 数据交换格式

### 特性
- **响应式设计** - 适配移动端和桌面端
- **现代化 UI** - 玻璃效果、渐变背景
- **无刷新操作** - AJAX 异步请求
- **安全防护** - 路径遍历攻击防护

## 🛡️ 安全特性

- **路径验证** - 防止目录遍历攻击
- **文件类型检查** - 限制上传文件类型
- **权限控制** - 基于文件系统权限
- **输入过滤** - 防止恶意文件名

## 🔧 配置选项

### 上传限制
可以在 `api/upload.php` 中修改上传限制：
```php
// 最大文件大小（字节）
$maxFileSize = 50 * 1024 * 1024; // 50MB

// 允许的文件类型
$allowedTypes = ['jpg', 'png', 'pdf', 'txt', 'mp4'];
```

### 基础目录
可以在各个 API 文件中修改基础存储目录：
```php
$baseDir = __DIR__ . '/../files';
```

## 🐛 故障排除

### 常见问题

1. **文件上传失败**
   - 检查 `files/` 目录权限
   - 确认 PHP 上传限制设置
   - 查看服务器错误日志

2. **预览功能不工作**
   - 确认文件路径正确
   - 检查浏览器控制台错误
   - 验证文件格式支持

3. **删除/重命名失败**
   - 检查文件权限
   - 确认文件未被占用
   - 查看 PHP 错误日志

### 调试模式
在浏览器开发者工具中查看：
- Network 标签页 - 查看 API 请求
- Console 标签页 - 查看 JavaScript 错误
- Application 标签页 - 查看本地存储

## 📝 更新日志

### v1.0.0 (2024-12-16)
- ✨ 初始版本发布
- 🎨 现代化界面设计
- 📁 完整文件管理功能
- 🎬 多媒体预览支持
- 📱 响应式布局
- 🌓 主题切换功能

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

- [Tailwind CSS](https://tailwindcss.com/) - 优秀的 CSS 框架
- [Font Awesome](https://fontawesome.com/) - 丰富的图标库
- [PHP](https://www.php.net/) - 强大的服务端语言

---

**享受使用现代化文件管理器！** 🚀